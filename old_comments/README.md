# 過去コメント (--2018-04-01) =
コメントが長くなってきたので，2018-04-01 以前のコメントはこちらに移動しました．

## FrontPageでのコメント (2010-09-28--2018-04-01)  ==

  * pTeX-ng のページを見ていたら，e-pTeX では `\fontcharwd` 等の日本語対応をサボっていたことに気づきました．近日中に直します．[[id:h7k h7k]([BR]]--) (2014-12-10 12:28:18 JST)
  * pTeXの\inhibitglueのバグを修正するパッチ([ptex-3.1.11-inhibit_glue_flag-091107-1.patch](http://www.ms.u-tokyo.ac.jp/~kitagawa/ptex-3.1.11-inhibit_glue_flag-091107-1.patch))は，eptex-110315と両立可能でしょうか？[[BR]]-- 通りすがり (2011-03-16 09:58:50 JST)
    * 今から試しますが，あのパッチ自体がきちんとしたパッチではないです（そのためリンクも外していました）．[[id:h7k h7k]([BR]]--) (2011-03-16 11:13 JST)
    * 次のようにすれば適用できるようです．\inhibitglue 問題は，もう一回きちんと考えないといけませんね． (2011-03-16 11:46 JST)
```
(in: /opt/home-supp/tl10)
$ scripts/unpack.sh -p -e -r ; scripts/build.sh -p -e -r
$ pushd /tmp/texlive-20100720-source/texk/web2c/ptexdir/
$ patch -p0 < /tmp/ptex-3.1.11-inhibit_glue_flag-0911107-1.patch 
$ cd ../eptexdir
$ rm ptex-base.ch
$ ln -s eptex-base.ch ptex-base.ch
$ patch -p0 < /tmp/ptex-3.1.11-inhibit_glue_flag-0991107-1.patch 
$ cd ../../../Work/texk/web2c/
$ make ptex eptex
$ cp ptex ../../../inst/bin/x86_64-unknown-linux-gnu 
$ cp eptex ../../../inst/bin/x86_64-unknown-linux-gnu
$ popd
（scripts/texmf.sh -p -e -r 以降を実行）
```
  * eptex-101231, scripts/unpack.sh l.6 の /tmpは，$TMPDIRの間違いです．[[id:h7k h7k]([BR]]--) (2011-01-02 15:34:54 JST)
  * eptex-101231 のインストールに用いる utfsrc.zip は，例えば ptexlive-20100711 に同梱されています．[[id:h7k h7k]([BR]]--) (2011-01-02 08:54:47 JST)
  * TeX Live 2010 への対応ですが，一応スクリプト類は作ってあります．しかし，upTeX 部分のパッチも勝手に再構成してしまったので，公開はまだまだ．[[id:h7k h7k]([BR]]--) (2010-09-28 13:09:55 JST)

## FrontPageでのコメント (2009-05-25--2010-09-28)  ==

  * pLaTeX ソース内に書いた計算式で計算ができるといいなぁーと思っていました。[[BR]]-- chikumagawa_kayaker (2010-09-28 11:50:39 JST)
    *   eptex-090927 以降では，浮動小数点演算の機能は削除しています（「概要」の更新を忘れていました．誤解を与えてしまったならば，すみません）．たぶん LuaTeX が「ソース中の計算式を計算」の解になるのかなあ，と思っていますが，時間が取れずなかなか調べられません．[[id:h7k h7k]([BR]]--) (2010-09-28 13:05 JST あたり)
  * おかげさまで第5版はeplatexでコンパイルできそうです。[[BR]]-- okumura (2010-05-24 18:13:34 JST)
  * ↓すいません，Macのsedが悪いんです。GNU sedをインストールして事なきを得ました[[BR]]-- okumura (2010-05-24 17:35:52 JST)
  * e-pTeX 100420 内の 0eptex.sh 中にある
``` 
cat $WEBDIR/configure | sed "s/fiif/fi\nif/;s/esac#/esac\n#/" > $WEBDIR/configure.new
```
   のところがうまく動かない環境があるようです．FreeBSD かなんかのテスト環境をもう一度作ろうかなと思います．
   autoreconf の結果でなぜこのような処理が必要になるような configure が吐かれるのかはよくわかりません．[[id:h7k h7k]([BR]]--) (2010-05-23 16:45:31 JST)
    * NetBSD 5.0.2 の sed で，上の行が意図したとおりに動かない（configure に改行が挿入されない）ことを確認しました．[[id:h7k h7k]([BR]]--) (2010-05-28 07:15:34 JST)
  * ptex-qtrip 抜きですが，eptex-100420.tar.bz2 のインストールは Cygwin 1.7 上でもうまくできました．[[BR]]-- kuroky (2010-04-30 17:50:11 JST)
  * 申し訳ありませんが，ptexlive for TL2009 に対応させるための作業には，しばらく取り掛かれないかもしれません．[[id:h7k h7k]([BR]]--) (2010-03-08 19:17:57 JST)
  * 当方の環境でも，.fmtの生成時にエラーが発生しました。詳細を TeX Q&A に掲載しておきました。[[BR]]-- Dora (2010-02-01 00:12:49 JST)
  * eptex-091003 + ptetex3-20090610 + upTeX 0.29 でコンパイルするときにも，euptex.fmt の生成に失敗する現象が見られるようです。[[BR]]-- 通りすがり (2010-01-31 15:19:04 JST)
    * 通りすがりさん，ありがとうございます．現在調査中です．[[id:h7k h7k]([BR]]--) (2010-01-31 18:22:37 JST)
    * とりあえず eptex-100131 で対応させたつもりです（こちらの環境では .fmt は正常に作られているようです）．fmt 生成のとき，どのようなエラーが発生したのでしょうか？[[id:h7k h7k]([BR]]--) (2010-01-31 21:40 JST)
  * 報告が遅くなって申し訳ありませんが，ptl08-compile-090927.tar.lzma について2つほどバグがあります：1. 5macro_euptex.sh において，umakeotf の実行がされていない，2. eptex.fmt, euptex.fmt の生成に失敗する．[[id:h7k h7k]([BR]]--) (2010-01-08 18:10:08 JST)
    * ptl08-compile-100108.tar.lzma で修正できたと思います．-- [h7k](id:h7k)
  * 動作確認中ですが eptexdoc.tex 25行目の「\eTeXを」と267行目の「\bits{8}」が Undefined control sequence. となるようです。前者は空白の挿入でしょうし後者は(footnote ですが）\def\bits を段落の先頭ぐらいに持って行く必要がありそうに思います。既知でなければ参考までに。[[BR]]-- デビ丸 (2009-09-29 12:25:31 JST)
  * 了解しました。ありがとうございました。[[BR]]-- デビ丸 (2009-09-28 17:34:40 JST)
  * gcc-4.2.1 (FreeBSD) で再現しました．調べたところ，+integer etexp=0; は +boolean etexp=0; の間違いだったようです．普段の開発環境 (gcc-4.4.1) では何も出なかったので見落としてしまいました．>デビ丸さん[[id:h7k h7k]([BR]]--) (2009-09-28 12:51:38 JST)
  * （誤送信したので）とんでもない間違いしてる気がしますが ptetex3+upTeX でコンパイルすると conflicting types for ‘etexp’ とならないでしょうか。eptex-ptetex3.diff と euptex-ptetex3-u0.28.diff の ptexextra.c に対するパッチから +integer etexp=0; を削除すると上手く行くように思いますがご教示いただければ幸いです。[[BR]]-- デビ丸 (2009-09-28 12:05:51 JST)
  * とんでもない間違いしてる気がしますが[[BR]]-- デビ丸 (2009-09-28 11:59:46 JST)
  * 追加パッケージを使わずプリミティブで浮動小数点演算ができる手軽さが便利だったのですが……浮動小数点演算の復活（オプションでもよいので）を希望します。[[BR]]-- リクエスト (2009-09-28 10:28:56 JST)
  * 浮動小数点演算が必要かどうか怪しく思えてきました．図を書くためなら既存の emath, pstricks-add などで大丈夫そうだし，単に「TeX 標準の固定小数点演算じゃ四則演算の精度が足りない」なら fp package があるからです．さらに，LuaTeX では Lua を通じて double 型の浮動小数点演算を使えるそうです．そのため，e-pTeX としては e-TeX 拡張（と，せいぜい fam256 関係？）に留めたいなと思っています．皆さんはどう思われますでしょうか？ コメントをお願いします．[[id:h7k h7k]([BR]]--) (2009-09-23 18:34:40 JST)
  * [qa:53556](http://oku.edu.mie-u.ac.jp/%7Eokumura/texfaq/qa/53556.html)に伴う修正を ptl08-compile-090818.tar.lzma に加えてみました．tl07-*, tl08-* については，明日にでも．[[id:h7k h7k]([BR]]--) (2009-08-18 22:45 JST)
    * [qa:53287](http://oku.edu.mie-u.ac.jp/%7Eokumura/texfaq/qa/53287.html), [qa:53556](http://oku.edu.mie-u.ac.jp/%7Eokumura/texfaq/qa/53556.html)関連のパッチを[tl07-compile-090819.tar.bz2](http://prdownloads.sourceforge.jp/eptex/40846/tl07-compile-090819.tar.bz2)に追加しました．[[id:h7k h7k]([BR]]--) (2009-08-19 12:44 JST)
    * （ptexlive ベースでない）TeX Live 2008 の環境では，[をダウンロードして，bld1.sh 実行前に tl08-compile/patches/ に配置してください．TeX Live 2009 が出たら，それ対応の ptexlive ベースに開発を移そうかなと思っています．[[BR]([LinkAttach(uptex-0.27-qa53556-tl08c.patch)]])]-- [h7k](id:h7k) (2009-08-19 19:01 JST)
  * W32TeXのサイトが移転したそうなのでリンク（一ヶ所）を修正．[[id:h7k h7k]([BR]]--) (2009-08-03 23:25:30 JST)
  * ptexlive や W32TeX では正式に「rをrrで置き換える」パッチが入ったようなので，こちらでもそうしました．[[id:h7k h7k]([BR]]--) (2009-06-30 10:03 JST)
  * TeX Live 2008 用のコンパイルスクリプトの試験版を tl08-compile-090629.tar.lzma においてみました．
    * [qa:53287](http://oku.edu.mie-u.ac.jp/%7Eokumura/texfaq/qa/53287.html) 関連では，「rをrrで置き換える」パッチをこっそり入れました．標準では無効のはずです．*'使用には注意を！*'
    * その他にも，アーカイブを「行儀の悪くない」ものにしたり，TeX Live 2008 対応の ptexlive（のアーカイブ）を用いることにしたり，unlzma を必須にするなどの変更を加えています．
  いつかは ptexlive ベースに書き換えないとな，と思っているのですが，なかなか時間がとれません（夏休み以降になりそうです）.[[id:h7k h7k]([BR]]--) (2009-06-29 17:56:07 JST)
  * ptexlive-20090524 以降は TeX Live 2008 ベースになっていますが，こちらへの対応調査はまだやっていません．[[id:h7k h7k]([BR]]--) (2009-05-25 17:13:15 JST)

## FrontPageでのコメント (--2009-05-24)  ==

  * e-pTeXにおける浮動小数点演算の実装について悩んでいます．具体的には，今まで通りWEBソース内に10進演算のコードを書いて行うべきか，
  それとも-80316.xx版のようにMPFR libraryなどの既存の外部のライブラリに丸投げしてしまうべきか，ということです．[[BR]]
  個人的には，多倍長計算ライブラリは既にいろんなところに存在しており，わざわざ自前で組んだものを使う必要があるのか，という意味で後者寄りですが，
  以下のようにも思っています．
    * Linux環境以外（特にWindows）でのビルドが大変になるのではないか
    * 2進演算のライブラリをそのまま使ってしまうのは，普段10進演算を使っている我々にとってなんだか気持ちが悪い
    * やたらと依存ライブラリを増やすのはどうかと思う． -- [北川 弘典](id:h7k) 
  * そこで，皆さんの意見をお伺いしたいのです，よろしくお願いします． -- [北川 弘典](id:h7k) 

  * おつかれさまです。e-pTeX が多機能になるのは賛成です。ただ、そうするとバグの数も増えてしまうと思います。ライブラリは必要最小限にするのが理想的だと思います。現在の配布形態のように、バグ取りが一通り完了するまで安定板と試験版の両方を提供する方針で私は問題ないと考えております。[[id:thortex thortex]([BR]]--) (2008-05-02 23:54:20 JST)
  * コメントありがとうございます．とりあえずは TeX Live 2008が出るまでは様子見という感じにしようと思います．[[id:h7k h7k]([BR]]--) (2008-05-05 20:02:23 JST)
  * 北川様、初めまして。e-pTeX, e-upTeXの開発、有難うございます。euptexをようやく試し始めたので、一つ御報告です。 HOWTOINST.txtの中に「#define WORDS_BIGENDIAN 1」を加える（そうしないとeuplatex.fmtがなぜか生成できない．linuxだけの話なのか？） とありますが、ptexextra.c の swap_items 関数定義に"case 12"の部分を"case 16"や"case 8"などと同様に追加すれば、動いていそうな気がします。 環境は、Vine Linux4.2, intel です。現在、テスト中です。[[BR]]-- ttk (2009-01-09 01:24:57 JST)
  * Windows でも[[BR]]-- kakuto (2009-01-10 14:44:01 JST)
  * Windows でも -Zp1 (構造体を 1 バイト境界にパックする) とすれは サイズ 12 の場合が出て、失敗します。デフォルトでは 成功するので、おそらく -Zp8  or -Zp16 のようになっているのｄしょう。[[BR]]-- kakuto (2009-01-10 14:50:03 JST)
  * ttk 様，角藤様，ご報告ありがとうございます．どうやらこちらでも "case 12" を加えれば動いてるような感じです．upTeX, e-upTeX を（TeX Live 08 下で）コンパイル出来次第，本格的に検証してみます．[[id:h7k h7k]([BR]]--) (2009-01-10 20:50:49 JST)
  * 久々の更新です．本当はΩのように数式フォントを256個まで使えるようにもしたかったのですが，動作不良のため，今回は見送りました．（途中経過を [に置いておきます）[[BR]([LinkAttach(fam256.ch,fam256.ch)]])]-- [h7k](id:h7k) (2009-02-18 15:47:24 JST)
  * eptex のバージョンが表示されるようになったようですが 2010 年も間近（？）になってますしこれからは 90218 より 090218 のようなバージョンにしておくのはどうでしょうか。[[BR]]-- デビ丸 (2009-02-20 10:47:19 JST)
    * ありがとうございます．2010 年になってから考えようとも思っていたのですが，今回のリリース（090220）よりバージョン番号を 6 桁にしています．[[id:h7k h7k]([BR]]--) (2009-02-20 14:33 JST)
  * FAM256パッチ版をW32TeXのもので確認しました．和文数式famを含めてうまく動いている[[BR]]-- 山本和義 (2009-02-22 15:44:05 JST)
  * ようです(切れました)．mathcodeの1バイト制限も，\omathchardef\abc"7420125 -> \abc=\mathchar"7420125 -> "0025 となるのを確認しました．この仕様でよいと思います．[[BR]]-- 山本和義 (2009-02-22 15:50:21 JST)
  * \abc=\mathchar ではなく \abc=\omathchar でした．[[BR]]-- 山本和義 (2009-02-22 15:52:48 JST)
  * upTeX-0.26にe-pTeX, e-upTeXの自動インストールを入れてみました。「自動」というのも狙いですが、ヴァージョン番号が変わるたびにパッチが当たらなくなるのを何とかしたかったのと、up2.diffの内容ぐらいはこっちで持った方がすっきりするんじゃないか、と思ったのもあります。ptetex3下以外のことは何も考えていないのと、今話題沸騰中のfam256までは手が回っていませんが、ぼちぼち試してみます。[[BR]]-- ttk (2009-02-22 23:28:40 JST)
  * ttk様，自動インストールスクリプトの作成，ありがとうございます．こちらでも upTeX 側のバージョンによらずにパッチがあたるようにしたものを[eptex-test](http://sourceforge.jp/projects/eptex/releases/37803) においてみました（かなりスクリプトが汚いですが）．[[id:h7k h7k]([BR]]--) (2009-02-23 15:49:22 JST)
  * eptex-test においてある eptex-090223 に対して，ptexlive 下でのコンパイルスクリプトも作ってみました．とりあえずコンパイルはできてそうな感じがします．[[id:h7k h7k]([BR]]--) (2009-02-28 22:39:48 JST)
  * TeXlive 2008 環境がないので ptexlive の下でのスクリプトを試してる（eptex-090223）のですが例えば eptexdoc.tex をコンパイルすると jsarticle.cls の "\if西暦" がエラーになってしまいます。こちらのミスな気はしますが日本語マクロが通らないような気もします。何か考えられることなどご教示いただければ幸いです。[[BR]]-- デビ丸 (2009-03-02 21:41:24 JST)
  * 最初は漢字コードかなと思っていましたが，こちらでも ptexlive 下でコンパイルしてみた（qemu 上の FreeBSDで）ところ，どうもうまく動かないので，引き続き調整してみます．[[id:h7k h7k]([BR]]--) (2009-03-03 10:04:55 JST)
  * 北川様、申し訳ありません、上のエラーはこちらのミスのようです。eplatex.fmt の作成に失敗して古いものを使ってエラーになっていたようで eplatex.fmt を更新したら eptexdoc.tex のコンパイルも問題なさそうでした。[[BR]]-- デビ丸 (2009-03-04 11:26:25 JST)
  * upTeX 0.27 （e-pTeX 090309 の FAM256 有効化状態での自動インストールが可能になったようです）が出てます．上に載せた tl07-compile-*.tar.bz2, tl08-compile-*.tar.bz2 はそのまま使える感じです．ptetex3 系統については，また後で調べます．[[id:h7k h7k]([BR]]--) (2009-03-13 11:38:10 JST)
  * e-pTeX 090309 付属の eptexdoc.tex ですが (p)xdvi で表示すると2ページ途中から左マージンに裏返って（？）表示されてしまいます。3ページからは正常に見えます。また dvipdfmx で変換すれば正常な PDF に思えます。こちらだけな気もしますがご報告のみ。[[BR]]-- デビ丸 (2009-03-17 14:38:50 JST)
  * eptexdoc.tex では，graphicx パッケージを dvipdfm オプションで読み込み，XeTeXのロゴを出力させるところあたりで \reflectbox を使っています．だから，xdvi での表示は乱れてもそんなにおかしくないように思います（こちらでも同じように xdvi では2ページ目が裏返っています）．[[id:h7k h7k]([BR]]--) (2009-03-17 15:55:14 JST)
  * あぁ、graphicx パッケージのオプションでしたか。xdvi に無理な注文したようですね。機械的にテストして見落してしまい失礼しました。[[BR]]-- デビ丸 (2009-03-17 21:52:29 JST)
  * TeX Live 2008でのコンパイルスクリプトを更新しました．単に読み込むハイフネーションパターンを増やしただけで，Truetypeフォントの自動設定などは相変わらずしないままです．[[id:h7k h7k]([BR]]--) (2009-04-28 20:39:21 JST)
  * gcc-4.4 では（オリジナルのTeX Live 2008でも）エラーが起きるみたいです．参考：http://bugs.gentoo.org/249224[[id:h7k h7k]([BR]]--) (2009-05-07 19:45:36 JST)

        - -
## [「TeX Live 2008でのコンパイル」](tl08)でのコメント ==

  * 落ち着いたのでとりあえず書いてみました．実際のコンパイルは08.9.10から08.9.14にかけてやりました．[[id:h7k 北川]([BR]]--) (2008-09-18 10:30:55 JST)
  * 現在，upTeX-0.25のコンパイルにも取り組んでいます．実行ファイルの生成まではできるようになりましたが，和文を受け付けない状態になってるので引き続き作業してみます．[[id:h7k 北川]([BR]]--) (2009-01-09 23:29:25 JST)
    * 追記が遅れましたが，どうやらそれは解決．
  * typo を修正．[[id:h7k 北川]([BR]]--) (2009-01-18)
  * 北川さん、意欲的な試みをいつもありがとうございます。ただ、私のような素人から言うと、パッチを当てる作業などは、make ＋ su ＋ make installで出来なないものかなぁなどと、罰当たりな感想を持ってしまったりします。もしそれがなされるのなら、とってもシアワセになれそうな気がします。それと、せっかくのe-TeX拡張ですが、今のところその本領を発揮させるような環境はあまりないですね。どうしたらよいものか、ここで他の方のご意見なども伺ってい見たものです。[[BR]]-- 通りすがり２(例の） (2009-01-20 00:16:44 JST)
  * コメントありがとうございます．自分でも（先日再インストールをした際にコンパイルをしてみて）面倒くさくミスりやすいなあ，と感じました．近日中にもう一回 TeX Live 2008 をコンパイルする機会があるので，もうちょっと手順を整理してみようかなあと思います．[[id:h7k h7k]([BR]]--) (2009-01-21 23:38:43 JST)
  * 早速の改善ありがとうございます。ずいぶんすっきりしましたよね。ところで、今日現在のこのページのリンクからでは正しいアーカイブが取得できない例が二つほどありました。それから、実際にbuildに始めると ./bld1.sh を走らせたところで、make[*** [xdvi-motif](2]:) Error 1 というエラーが出てしまって、それ以上先には進みません。openmotifはインストールされているのですが...そのエラーの直前に、/usr/lib/libXm.so: could not read symbolsというメッセージも出ています。当方はx86_64no[[BR]]-- 通りすがり２ (2009-01-24 23:43:17 JST)
  * （途中で切れてしまいまいました）x86_64のopenSuSEの環境ですが、６４bitであることが関係しているのでしょうか？[[BR]]-- 通りすがり２ (2009-01-24 23:46:29 JST)
  * 素早いコメント，ありがとうございます．アーカイブへのリンクは直しておきました（dvipskのパッチへのリンクは理研の ring server にしました）．64bit 環境はよく分からないのですが，とりあえずの方法として，option 中の CONF_OPT="$CONF_OPT --with-xdvi-x-toolkit=motif" をコメントアウトする（= xdvi の toolkit を Xaw にする）とコンパイルできないでしょうか？[[id:h7k h7k]([BR]]--) (2009-01-25 09:28:25 JST)
  * 早速のレスポンスありがとうございます。おっしゃるとおり、mortifからXawへと切り替えてみましたが、やはり、/usr/lib/libXmu.so: could not read symbols: File in wrong format とのエラーが出て止まってしまいます。試みに、CONF OPT --without-xdvikという１行をoptionファイルに入れてみましたが、これは全く効きませんでした。こちらでももう一度、基礎的なライブラリのインストール状況などを再確認してみます。[[BR]]-- 通りすがり２ (2009-01-25 13:00:17 JST)
  * 今気がついたのですが、いずれの場合にも、コンパイラーが/usr/lib/以下のライブラリーを読みに行ってしまっていて、/usr/lib64/以下のライブラリを読んでいなさそうです。それが原因かもしれません。[[BR]]-- 通りすがり２ (2009-01-25 13:12:59 JST)
  * 返事が遅くなってすみません．xdvik の configure を見たら，--with-motif-libdir=DIR というオプションがあったので，そこら辺を CONF_OPT に追加すれば良さそうな予感がしますけれど，どうでしょうか（Xaw の場合はさっぱりわかりませんが）．[[id:h7k h7k]([BR]]--) (2009-01-26 19:59:48 JST)
  * e-pTeX および TexLive 2008 用のインストーラが徐々に整っていく様子を期待をこめてみせて頂いています。このところかなりの進展がみられたのではないでしょうか。傍目からは各種の Linux system で無難に稼働する段階のように感じられます。とはいえ私は他の POSIX 準拠 OS にも興味がありますので、近くにあった FreeBSD 7.1, OpenSolaris 2008.11, Solaris 10 x86 で eptex-090220.tar.bz2, tl08-compile-090220.tar.bz2 を試しました。すでに調合をされたシステムをありがたく使わせてもらうことしかできませんが、このような記録でもこのページを参照される方にとってなにかの参考になるかもしれないと思い、ささやかな報告をさしあげます。　　  【FreeBSD, Solaris の場合】 インストーラーの設定ファイルに僅かな変更を加えなければなりません。その変更のみで、eptex の本体は原型のままで、おそらく最後まで正常にインストールされました（すくなくとも初心者の目には正常にインストールされたようにみえます）。texlive2008-20080822.iso.lzma の install-tl と eptex installer の bld1.sh, bld2.sh, bld3.sh がとおり、和文 TeX の platex, xdvi, pdvips, dvipdfmx 等が使えるようになりました。　　  ------------　　  【備考】 初期設定のままではエラーが続出します。ファイルの展開で FreeBSD, Solaris は tar, patch, zcat, ... の代わりに gtar, gpatch gzcat, ... を使わないといけません。特に bld1.sh, bld2.sh, bld3.sh の該当箇所を書き換えます。そしてシステムに合わせて少し option を調整します。Gnu 関連の開発環境が整っていれば、単にそれだけで texlive 2008 に日本語 TeX が追加されます。各種の処理系に容易に日本語 TeX（jis, sjis, euc, utf8 対応版）が備わるので、とても嬉しくなりました。　　  （註0)  各種の OS で試す場合は、後処理で link s- の前に Acrobat, true font の実在位置を確認することをおすすめします。画面に表示される例と実際のディレクトリがずれる場合があります。  ------------　　  　(1) FreeBSD は port packages から追加した /usr/local の道具を用いるようにします。このシステムには類似のコマンドがいくつも入っているために、それらを混同しないようにしなければなりません。bld*.sh 等で積極的に gtar, gpatch gzcat を使う他に、option ファイルにつぎを付け足します。　　       CONF_OPT="$CONF_OPT --with-fontconfig=/usr/local"　　       export TL_MAKE=/usr/local/bin/gmake　　  なお、今回は motif （openmotif） を入れない状態で試しましたから option の対応箇所はコメントにしました。そうすると自動的に xaw が選ばれます。　　       # CONF_OPT="$CONF_OPT --with-xdvi-x-toolkit=motif"　　  （註1）  FreeBSD, Solaris の bld1.sh で困惑をして Linux 系も試しました。openSUSE Linux 11.1, Debian Linux lenny などは順調に行きます。最低限 texlive-20080816-source.tar.lzma の生身のコンパイルが可能な開発環境が必要です。　　  ------------　　  　(2) OpenSolaris は CFLAGS に -march=native -funsigned-char 指定をするとエラーで止まります。　　       # CFLAGS="-O2 -march=native -s -fomit-frame-pointer -funsigned-char"       CFLAGS="-O2 -s -fomit-frame-pointer"       # CONF_OPT="$CONF_OPT --with-xdvi-x-toolkit=motif"　　  （註2） OpenSolaris の tar, patch は　gtar, gpatch と同一です。変更の必要はありません。ただし、zcat とgzcat は別物です。　　  ------------　　  　(3) Solaris 10 x86 は (1)、(2) の合成です。bash の alias 指定ではなぜか空振りをしたために、展開されたファイルの *.sh が用いる patch に gpatch が作用するように、内緒でいささかズルイ細工をして切り抜けました。正書法を探しています。　 　  （註3） Open Solaris, Solaris 10 はエラーの原因が bld1.sh 中の zcat にあることに気づかずに最後まで悩まされました。理由もなく xdvi-draw.c のコンパイル中に moveH の宣言がないといわれ続けたのですから、全くの盲点です。これをなくすにはファイルを編集して、コマンド名を gzcat に書き直した上で bld1.sh を実行します。つまりファイルの展開を失敗して必要な patch があたっていなかっただけです。もちろんシステムに gzcat (gzip 対応の zcat）がないといけません。   ------------　　  充実すれば将来は texlive に組み込んで欲しいと思います。これからが楽しみです。[[BR]]-- tl-bsd fan (2009-03-01 16:56:31 JST)
  * tl-bsd fan 様，FreeBSD 他での情報，ありがとうございます．option 中で gmake, gtar, gzcat, gpatch の自動検出（のつもり）を入れてみました．手元には Linux しかないので，それ以外を考えるのをすっかり忘れていました．一応 tl08-compile-090301.tar.bz2 で，gpatch とかの自動検出を入れてみたつもりです（また，-march=native は gcc-4.2 以降のものなので，option にそのことを追記してあります）．bld3.sh 実行後のディレクトリは単に「例」として表示しているだけで，何も存在チェックとかはしてないのですが，ptexlive/ptetex を参考になんとかしてみようかと思います．[[id:h7k h7k]([BR]]--) (2009-03-01 20:57:46 JST)
  * tl08-compile-090305.tar.bz2 をみせていただきました。option ファイル、最後の2行、環境変数名の誤植を直して FreeBSD, openSolaris, Solaris の展開、patch がとおります。作業が楽になりました。[[BR]]-- tl-bsd fan  (2009-03-07 21:41:21 JST)
  * 追記 FreeBS、openSolaris はこれでよいのですが、Solaris は patch のエラーがでていました。スペースがないので説明は省かせていただきますが、Solaris は もう少し工夫が要ります。[[BR]]-- tl-bsd fan (2009-03-07 21:54:20 JST)
  * ありがとうございます．近日中に e-pTeX 本体も込めた更新予定（-funsigned-char が不要になる予定です）があるので，ご指摘の option の誤植については本ページで指摘するにとどめて置こうと思います．[[id:h7k h7k]([BR]]--) (2009-03-07 22:29:29 JST)
  * MacOSXで構築中ですが/tmp/texlive-20080816-source/inst/が作られなくなって途中で止まるようになりました。以前の版では出来ていました。[[BR]]-- kt (2009-03-30 07:47:59 JST)
  * 失礼しました。先ほどのコメントの不具合は設定ミスによるものでした。[[BR]]-- kt (2009-03-30 12:13:06 JST)

